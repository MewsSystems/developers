(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(t,n,e){t.exports=e(47)},47:function(t,n,e){"use strict";e.r(n);var r=e(0),a=e.n(r),c=e(11),o=e.n(c),u=e(25),i=e(1),l=e(3),f=e(15),s=e.n(f),b=e(20),d=e(6),p=function(t){return t?Object.keys(t).map(function(n){var e=encodeURIComponent(String(n).trim()),r=encodeURIComponent(String(t[n]).trim());return e.length>0&&r.length>0?"".concat(e,"=").concat(r):""}).join("&"):""},m=function(){var t=Object(b.a)(s.a.mark(function t(){var n,e,r,a,c,o,u,i,l,f,b,d,p=arguments;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=p.length,e=new Array(n),r=0;r<n;r++)e[r]=p[r];return a=e[0],c=e[1],o=e[2],i=(u=void 0===o?{}:o).retry,l=void 0===i||i,f=u.timeout,b=void 0===f?300:f,d=g(a,c),t.abrupt("return",new Promise(function(t,n){fetch(d).then(function(t){return t.json()}).then(t).catch(function(){if(!l)return n();setTimeout(function(){return m.apply(void 0,e).then(t).catch(n)},b)})}));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),v=m;function g(t,n){var e=p(n),r="".concat(d.a).concat(t);return n&&e.trim().length>0&&(e="?"+e),"".concat(r).concat(e)}var j=e(7),O=e(2);function E(){var t=Object(i.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\talign-items: center;\n\n\tmin-height: 40px;\n\tpadding: 0 18px 0 18px;\n\n\tborder-radius: 4px;\n\tborder: 1px solid black;\n\n\tbackground: ",";\n\tcolor: ",";\n\n\t&:not(:last-child) {\n\tmargin: 0 10px 10px 0;\n\t}\n\n\tcursor: pointer;\n\ttransition: all 0.4s ease-in-out;\n"]);return E=function(){return t},t}var h=Object(O.b)("button")(E(),function(t){return t.filled?"black":"white"},function(t){return t.filled?"white":"black"});function y(){var t=Object(i.a)(["\n\tmargin: 0 0 20px 0;\n"]);return y=function(){return t},t}var x=Object(O.b)("h1")(y());function w(){var t=Object(i.a)(["\n\twidth: 190px;\n\theight: 190px;\n\n\tfilter: grayscale(100%);\n\n\tbackground-size: cover;\n\tbackground-position: center;\n\tbackground-image: url(/loader.gif);\n"]);return w=function(){return t},t}function P(){var t=Object(i.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\talign-items: center;\n\n\tposition: fixed;\n\ttop: 0;\n\tbottom: 0;\n\tright: 0;\n\tleft: 0;\n"]);return P=function(){return t},t}var k=Object(O.b)("div")(P()),D=Object(O.b)("div")(w()),S=function(){return a.a.createElement(k,null,a.a.createElement(D,null))};function A(){var t=Object(i.a)(["\n\tdisplay: flex;\n\tflex-direction: ",";\n\talign-items: ",";\n\tjustify-content: ",";\n"]);return A=function(){return t},t}var C=function(t,n){return function(e){return e.hasOwnProperty(t)?e[t]:n}},T=function(t){return Object(O.b)("div")(A(),t,C("align","flex-start"),C("justify","flex-start"))},R=T("row"),_=T("column");function I(){var t=Object(i.a)([""]);return I=function(){return t},t}function M(){var t=Object(i.a)(["\n\t&:nth-of-type(odd) {\n\t\tbackground: #EEEEEE;\n\t}\n"]);return M=function(){return t},t}function N(){var t=Object(i.a)(["\n\tbackground: #000;\n"]);return N=function(){return t},t}function L(){var t=Object(i.a)(["\n\tdisplay: flex;\n\twidth: 100%;\n\tpadding: 18px 0;\n"]);return L=function(){return t},t}function U(){var t=Object(i.a)(["\n\ttext-transform: uppercase;\n\tcolor: white;\n"]);return U=function(){return t},t}function F(){var t=Object(i.a)(["\n\tflex: 1 1 20%;\n\ttext-align: center;\n"]);return F=function(){return t},t}function G(){var t=Object(i.a)(["\n\twidth: 100%;\n\tborder: 1px solid #EEEEEE;\n\tborder-collapse: collapse;\n\tborder-radius: 5px;\n"]);return G=function(){return t},t}var B=function(t){var n=t.items,e=t.component,r=t.wrapper;return a.a.createElement(r,null,n.map(function(t){return a.a.createElement(e,{key:Math.random()},t)}))},J=function(t){var n=t.rows;return a.a.createElement(K,null,a.a.createElement(B,{wrapper:q,component:z,items:n[0]}),a.a.createElement(V,null,n.splice(1).map(function(t){return a.a.createElement(B,{wrapper:Q,component:Y,items:t,key:Math.random()})})))},K=Object(O.b)("div")(G()),W=Object(O.b)("div")(F()),Y=function(t){var n=t.children,e=t.className;return a.a.createElement(W,{className:e},n||"...")},z=Object(O.b)(Y)(U()),H=Object(O.b)("div")(L()),q=Object(O.b)(H)(N()),Q=Object(O.b)(H)(M()),V=Object(O.b)("div")(I()),X=function(){var t=Object(l.b)(),n=Object(l.c)(function(t){return t.pairs}),e=n.currencyPairs,r=n.selectedPairs.map(function(t){return t.code});return e.map(function(n){return Object(j.a)({toggled:r.includes(n.code),toggle:function(){return t({type:"TOGGLE_SELECTED_PAIR",payload:{selectedPair:n}})}},n)})},Z=function(){return a.a.createElement(_,null,a.a.createElement(x,null,"Currency pairs"),a.a.createElement(R,null,X().map(function(t){return a.a.createElement(h,{key:t.code,onClick:t.toggle,filled:t.toggled},t.code)})))},$=e(8),tt=function(){var t=Object(l.c)(function(t){return t.pairs.selectedPairs}),n=Object(l.c)(function(t){return t.pairs.tableData}),e=(Object(l.c)(function(t){return t.pairs.selectionKey}),Object(l.b)()),c=function(t){var n=Object.keys(t).sort(),e=d.b-n.length,r=Math.max(e,0),a=new Array(r).fill();return[].concat(Object($.a)(a),Object($.a)(n))}(n),o=["Currency pair / Time"].concat(Object($.a)(c.map(function(t){return t&&a.a.createElement(rt,{time:t})})),["Tendency"]),u=t.map(function(t){var e=c.map(function(e){return n[e]&&n[e][t.id]});return[t.code].concat(Object($.a)(e),[a.a.createElement(et,{values:e})])});!function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,e=Object(r.useRef)();Object(r.useEffect)(function(){return(e.current=t)[t]}),Object(r.useEffect)(function(){if(null!==n){var t=setInterval(function(){return e.current()},n);return function(){return clearInterval(t)}}},[n])}(function(){v("/rates",{currencyPairIds:t.map(function(t){return t.id})}).then(function(t){return e({type:"ADD_TABLE_DATA",payload:{tableData:t}})})},1e3);var i=[o].concat(Object($.a)(u));return a.a.createElement(a.a.Fragment,null,a.a.createElement(x,null,"Rates"),a.a.createElement(J,{rows:i}))};var nt={UP:"growing \u2191",DOWN:"declining \u2193",SAME:"stagnating \u2192"},et=function(t){var n=t.values,e=n[n.length-1],r=n[n.length-2];if(!e||!r)return"unknow";var a=e/r,c=nt[1===a?"SAME":a>1?"UP":"DOWN"];return 1===a?c:c+(Math.floor(1e4*(a-1))/100+"%")},rt=function(t){var n=t.time,e=new Date(Number(n)),r=function(t){return("0"+e[t]()).substr(-2)},a=r("getHours"),c=r("getMinutes"),o=r("getSeconds");return"".concat(a,":").concat(c,":").concat(o," \u23f1")};function at(){var t=Object(i.a)(['\n  @import url("https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700");\n  body {\n    padding: 24px;\n    font-family: "Source Sans Pro", sans-serif;\n    margin: 0;\n    background: white;\n  }\n']);return at=function(){return t},t}function ct(){var t=Object(i.a)(["\n  margin: 0 auto;\n  max-width: 90%;\n  margin-bottom: 100px;\n"]);return ct=function(){return t},t}var ot=Object(O.b)("div")(ct()),ut=Object(O.a)(at()),it=function(){return lt().loading?a.a.createElement(S,null):a.a.createElement(ot,null,a.a.createElement(Z,null),a.a.createElement(tt,null),a.a.createElement(ut,null))},lt=function(){var t=Object(l.b)(),n=Object(r.useState)(!0),e=Object(u.a)(n,2),a=e[0],c=e[1];return Object(r.useEffect)(function(){v("/configuration").then(function(n){return e=n.currencyPairs,t({type:"SET_CURRENCY_PAIRS",payload:{currencyPairs:e}}),void c(!1);var e})}),{loading:a}},ft=e(4),st=e(12),bt={currencyPairs:null,selectedPairs:[],tableData:{},hasEverFetchedConfig:!1},dt=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_CURRENCY_PAIRS":var r=(t=e.payload.currencyPairs,Object.keys(t).map(function(n){var e=t[n];return{id:n,pair:e,code:e[0].code+"/"+e[1].code}}));return Object(j.a)({},n,{currencyPairs:r,selectedPairs:n.hasEverFetchedConfig?n.selectedPairs:r.map(function(t,n){return n<d.b?t:null}).filter(function(t){return!!t}),hasEverFetchedConfig:!0});case"TOGGLE_SELECTED_PAIR":var a=e.payload.selectedPair,c=Object($.a)(n.selectedPairs),o=c.map(function(t){return t.code}).indexOf(a.code);-1===o?c.push(a):c.splice(o,1);var u=Math.random();return Object(j.a)({},n,{selectedPairs:c,selectionKey:u});case"ADD_TABLE_DATA":var i=(new Date).getTime(),l=Object(j.a)({},n.tableData,Object(st.a)({},i,Object(j.a)({},e.payload.tableData.rates))),f=Object.keys(l);if(f.sort(),f.reverse(),f.length>d.b){f=f.splice(f.length-(d.b+1),d.b);var s={};f.forEach(function(t){s[t]=l[t]}),l=s}return Object(j.a)({},n,{tableData:l});default:return n}},pt=Object(ft.b)({pairs:dt}),mt=e(24),vt=(e(44),e(23)),gt={key:"asdfasdf",storage:e.n(vt).a},jt=Object(mt.a)(gt,pt),Ot=Object(ft.c)(jt);Ot.subscribe(function(){return console.log("Redux store changed: ",Ot.getState())}),o.a.render(a.a.createElement(l.a,{store:Ot},a.a.createElement(it,null)),document.getElementById("root"))},6:function(t){t.exports={a:"http://localhost:3001",b:5}}},[[28,2,1]]]);
//# sourceMappingURL=main.0aa404ae.chunk.js.map