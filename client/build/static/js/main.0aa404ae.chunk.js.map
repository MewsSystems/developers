{"version":3,"sources":["utils/stringifyQuery.js","api/apiCall.js","ui/Button.js","ui/Title.js","ui/Loader.js","ui/Layouts.js","ui/Table.js","components/PairSelector.js","actions/pairsActions.js","components/RatesTable.js","utils/useInterval.js","App.js","reducers/pairs.js","reducers/combinedReducers.js","index.js"],"names":["stringifyQuery","query","Object","keys","map","name","key","encodeURIComponent","String","trim","value","length","concat","join","apiCall","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","_len","args","_key","route","_args$","params","_params$retry","retry","_params$timeout","timeout","url","_args","arguments","wrap","_context","prev","next","Array","getApiUrl","abrupt","Promise","res","rej","fetch","then","json","catch","setTimeout","apply","stop","this","queryObject","endpoint","API_URL","Button","styled","_templateObject","p","filled","Title","Title_templateObject","Container","Loader_templateObject","Image","_templateObject2","Loader","react_default","createElement","selector","defaultValue","props","hasOwnProperty","createLayout","direction","Layouts_templateObject","Row","Column","TableRow","items","Component","component","Wrapper","wrapper","item","Math","random","Table","_ref2","rows","TableWrapper","Table_TableRow","RowHeader","HeaderCell","Body","splice","row","RowBody","Cell","Table_templateObject","Content","Table_templateObject2","_ref3","children","className","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","useCurrencyPairs","dispatch","useDispatch","state","useSelector","pairs","currencyPairs","selectedCodes","selectedPairs","e","code","pair","objectSpread","toggled","includes","toggle","type","payload","selectedPair","PairSelector","ui_Title","ui_Button","onClick","RatesTable","tableData","selectionKey","columns","sort","difference","tableColumns","columnsToAdd","max","missingColumns","fill","toConsumableArray","getTableColumns","rowHeader","t","TimeStamp","time","rowsBody","values","c","id","Tendency","callback","delay","undefined","savedCallback","useRef","useEffect","current","setInterval","clearInterval","useInterval","currencyPairIds","data","Fragment","Table_Table","UP","DOWN","SAME","lastValue","preLastValue","relation","tendency","floor","date","Date","Number","format","method","substr","hours","minutes","seconds","AppWrapper","App_templateObject","GlobalStyle","createGlobalStyle","App_templateObject2","App","useConfigurationFetcher","loading","ui_Loader","components_PairSelector","components_RatesTable","_useState","useState","_useState2","slicedToArray","setLoading","initialState","hasEverFetchedConfig","reducer","pairsObject","action","index","filter","selectedPairIndex","indexOf","push","timestamp","getTime","defineProperty","rates","reverse","newTableData","forEach","combinedReducers","combineReducers","persistConfig","storage","persistedReducer","persistReducer","store","createStore","subscribe","console","log","getState","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"+NAAeA,EAAA,SAACC,GACd,OAAKA,EACQC,OAAOC,KAAMF,GAEFG,IAAK,SAAAC,GAC3B,IAAMC,EAAMC,mBAAoBC,OAAOH,GAAMI,QACvCC,EAAQH,mBAAoBC,OAAOP,EAAMI,IAAOI,QAGtD,OAFkBH,EAAIK,OAAS,GAAKD,EAAMC,OAAS,EAInD,GAAAC,OAAUN,EAAV,KAAAM,OAAiBF,GAFM,KAKPG,KAAM,KAbL,ICEfC,EAAO,eAAAC,EAAAb,OAAAc,EAAA,EAAAd,CAAAe,EAAAC,EAAAC,KAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAvB,EAAAwB,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,UAAA,OAAAhB,EAAAC,EAAAgB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WAAAhB,EAAAW,EAAArB,OAAUW,EAAV,IAAAgB,MAAAjB,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAUD,EAAVC,GAAAS,EAAAT,GAAA,OACPC,EAA6BF,EADtB,GACArB,EAAsBqB,EADtB,GAAAG,EACsBH,EADtB,GAAAK,GACOD,OADP,IAAAD,EACgB,GADhBA,GAIZG,aAJY,IAAAD,KAAAE,EAMVH,EADFI,eALY,IAAAD,EAKF,IALEA,EAQRE,EAAMQ,EAAWf,EAAOvB,GARhBkC,EAAAK,OAAA,SASP,IAAIC,QAAS,SAAUC,EAAKC,GAEjCC,MAAOb,GAAKc,KADU,SAAAH,GAAG,OAAIA,EAAII,SACAD,KAAMH,GAAKK,MAAO,WACjD,IAAKnB,EAAO,OAAOe,IAEnBK,WADgB,kBAAMlC,EAAOmC,WAAP,EAAY3B,GAAMuB,KAAMH,GAAKK,MAAOJ,IACrCb,QAdX,wBAAAK,EAAAe,SAAA9B,EAAA+B,SAAH,yBAAApC,EAAAkC,MAAAE,KAAAlB,YAAA,GAuBEnB,IAEf,SAASyB,EAAWf,EAAO4B,GACzB,IAAInD,EAAQD,EAAgBoD,GACtBC,EAAQ,GAAAzC,OAAM0C,KAAN1C,OAAgBY,GAG9B,OAFiB4B,GAAenD,EAAMQ,OAAQE,OAAS,IACzCV,EAAQ,IAAMA,GAC5B,GAAAW,OAAUyC,GAAVzC,OAAqBX,0bC/BvB,IAuBesD,EAvBAC,YAAQ,SAARA,CAAHC,IAYG,SAAAC,GAAC,OAAKA,EAAEC,OAAS,QAAU,SAChC,SAAAD,GAAC,OAAKA,EAAEC,OAAS,QAAU,wGCbrC,IAIeC,EAJDJ,YAAQ,KAARA,CAAHK,8dCCX,IAMMC,EAAYN,YAAQ,MAARA,CAAHO,KAaTC,EAAQR,YAAQ,MAARA,CAAHS,KAWIC,EA9BA,kBACbC,EAAAjD,EAAAkD,cAACN,EAAD,KACEK,EAAAjD,EAAAkD,cAACJ,EAAD,uKCHJ,IAAMK,EAAW,SAAC/D,EAAKgE,GACtB,OAAO,SAAAC,GAEN,OADYA,EAAMC,eAAelE,GACjBiE,EAAMjE,GACfgE,IAIHG,EAAe,SAAAC,GAAS,OAAIlB,YAAQ,MAARA,CAAJmB,IAEXD,EACHL,EAAS,QAAS,cACdA,EAAS,UAAW,gBAGlCO,EAAMH,EAAc,OACpBI,EAASJ,EAAc,szBCf7B,IAAMK,EAAW,SAAA/D,GAAA,IAAEgE,EAAFhE,EAAEgE,MAAkBC,EAApBjE,EAASkE,UAA+BC,EAAxCnE,EAA+BoE,QAA/B,OACfhB,EAAAjD,EAAAkD,cAACc,EAAD,KACGH,EAAM3E,IAAK,SAAAgF,GAAI,OACdjB,EAAAjD,EAAAkD,cAACY,EAAD,CAAW1E,IAAK+E,KAAKC,UAClBF,OAMHG,EAAQ,SAAAC,GAAA,IAAEC,EAAFD,EAAEC,KAAF,OACZtB,EAAAjD,EAAAkD,cAACsB,EAAD,KACEvB,EAAAjD,EAAAkD,cAACuB,EAAD,CAAUR,QAASS,EAAWX,UAAWY,EAAYd,MAAOU,EAAK,KACjEtB,EAAAjD,EAAAkD,cAAC0B,EAAD,KACGL,EACEM,OAAQ,GACR3F,IAAK,SAAA4F,GAAG,OACP7B,EAAAjD,EAAAkD,cAACuB,EAAD,CACER,QAASc,EACThB,UAAWiB,EACXnB,MAAOiB,EACP1F,IAAK+E,KAAKC,gBAOhBI,EAAelC,YAAQ,MAARA,CAAH2C,KAOZC,EAAU5C,YAAQ,MAARA,CAAH6C,KAKPH,EAAO,SAAAI,GAAA,IAAEC,EAAFD,EAAEC,SAAUC,EAAZF,EAAYE,UAAZ,OACXrC,EAAAjD,EAAAkD,cAACgC,EAAD,CAASI,UAAWA,GAAYD,GAAY,QAGxCV,EAAarC,YAAQ0C,EAAR1C,CAAHiD,KAKV7B,EAAMpB,YAAQ,MAARA,CAAHkD,KAMHd,EAAYpC,YAAQoB,EAARpB,CAAHmD,KAGTV,EAAUzC,YAAQoB,EAARpB,CAAHoD,KAMPd,EAAOtC,YAAQ,MAARA,CAAHqD,KCjDJC,EAAmB,WACvB,IAAMC,EAAWC,cACXC,EAAQC,YAAa,SAAAD,GAAK,OAAIA,EAAME,QAEpBA,EAAwBF,EAAvCG,cACDC,EADwCJ,EAAjBK,cACOlH,IAAK,SAAAmH,GAAC,OAAIA,EAAEC,OAEhD,OAAOL,EAAM/G,IAAK,SAAAqH,GAAI,OAAAvH,OAAAwH,EAAA,EAAAxH,CAAA,CACpByH,QAASN,EAAcO,SAAUH,EAAKD,MACtCK,OAAQ,kBAAMd,ECjBT,CACLe,KAAM,uBACNC,QAAS,CACPC,aDc0CP,OACzCA,MAIQQ,EA3BM,kBACnB9D,EAAAjD,EAAAkD,cAACS,EAAD,KACEV,EAAAjD,EAAAkD,cAAC8D,EAAD,uBACA/D,EAAAjD,EAAAkD,cAACQ,EAAD,KACGkC,IAAoB1G,IAAK,SAAAqH,GAAI,OAC5BtD,EAAAjD,EAAAkD,cAAC+D,EAAD,CAAQ7H,IAAKmH,EAAKD,KAAMY,QAASX,EAAKI,OAAQlE,OAAQ8D,EAAKE,SACxDF,EAAKD,kBE+BDa,GAlCI,WACjB,IAAMf,EAAgBJ,YAAa,SAAAD,GAAK,OAAIA,EAAME,MAAMG,gBAClDgB,EAAYpB,YAAa,SAAAD,GAAK,OAAIA,EAAME,MAAMmB,YAE9CvB,GADeG,YAAa,SAAAD,GAAK,OAAIA,EAAME,MAAMoB,eACtCvB,eAEXwB,EA8BR,SAA0BF,GACxB,IAAME,EAAUtI,OAAOC,KAAMmI,GAAWG,OAElCC,EAAaC,IAAeH,EAAQ7H,OACpCiI,EAAevD,KAAKwD,IAAKH,EAAY,GACrCI,EAAiB,IAAIxG,MAAOsG,GAAcG,OAEhD,SAAAnI,OAAAV,OAAA8I,EAAA,EAAA9I,CACK4I,GADL5I,OAAA8I,EAAA,EAAA9I,CAEKsI,IAvCWS,CAAiBX,GAC3BY,EAAS,CACb,wBADatI,OAAAV,OAAA8I,EAAA,EAAA9I,CAEVsI,EAAQpI,IAAK,SAAA+I,GAAC,OAAIA,GAAKhF,EAAAjD,EAAAkD,cAACgF,GAAD,CAAWC,KAAMF,OAF9B,CAGb,aAGIG,EAAWhC,EAAclH,IAAK,SAAAqH,GAClC,IAAM8B,EAASf,EAAQpI,IAAK,SAAAoJ,GAAC,OAAIlB,EAAUkB,IAAMlB,EAAUkB,GAAG/B,EAAKgC,MACnE,OAAQhC,EAAKD,MAAb5G,OAAAV,OAAA8I,EAAA,EAAA9I,CAAsBqJ,GAAtB,CAA8BpF,EAAAjD,EAAAkD,cAACsF,GAAD,CAAUH,OAAQA,SCrBrC,SAACI,GAA2B,IAAjBC,EAAiB3H,UAAAtB,OAAA,QAAAkJ,IAAA5H,UAAA,GAAAA,UAAA,GAAT,IAC1B6H,EAAgBC,mBACtBC,oBACE,kBAAOF,EAAcG,QAAUN,GAC9BA,KAEHK,oBACE,WAEE,GAAc,OAAVJ,EAAgB,CAClB,IAAIH,EAAKS,YAFE,kBAAMJ,EAAcG,WAEHL,GAC5B,OAAO,kBAAMO,cAAeV,MAGhC,CAACG,IDUHQ,CAAa,WACXtJ,EAAS,SAAU,CACjBuJ,gBAAiB/C,EAAclH,IAAK,SAAAmH,GAAC,OAAIA,EAAEkC,OAC1C5G,KAAM,SAAAyH,GAAI,OAAIvD,EDVZ,CACLe,KAAM,iBACNC,QAAS,CACPO,UCOuCgC,QACxC,KAEH,IAAM7E,EAAI,CAAIyD,GAAJtI,OAAAV,OAAA8I,EAAA,EAAA9I,CAAkBoJ,IAE5B,OACEnF,EAAAjD,EAAAkD,cAACD,EAAAjD,EAAMqJ,SAAP,KACEpG,EAAAjD,EAAAkD,cAAC8D,EAAD,cACA/D,EAAAjD,EAAAkD,cAACoG,EAAD,CAAO/E,KAAMA,MAmBnB,IAAMtF,GAAO,CACXsK,GAAI,iBACJC,KAAM,mBACNC,KAAM,qBAGFjB,GAAW,SAAA3I,GAAc,IAAZwI,EAAYxI,EAAZwI,OACXqB,EAAYrB,EAAOA,EAAO5I,OAAS,GACnCkK,EAAetB,EAAOA,EAAO5I,OAAS,GAE5C,IAAKiK,IAAcC,EAAc,MAAO,SAExC,IAAMC,EAAWF,EAAYC,EAIvBE,EAAW5K,GAFW,IAAb2K,EACY,OAFTA,EAAW,EAEmB,KAAO,QAGvD,OAAiB,IAAbA,EAAuBC,EAGpBA,GADQ1F,KAAK2F,MAAwB,KAAhBF,EAAW,IAAc,IAAM,MAIvD1B,GAAY,SAAA5D,GAAY,IAAV6D,EAAU7D,EAAV6D,KACZ4B,EAAO,IAAIC,KAAMC,OAAQ9B,IACzB+B,EAAS,SAAAC,GAAM,OAAK,IAAMJ,EAAKI,MAAYC,QAAS,IAEpDC,EAAQH,EAAQ,YAChBI,EAAUJ,EAAQ,cAClBK,EAAUL,EAAQ,cAExB,SAAAxK,OAAU2K,EAAV,KAAA3K,OAAmB4K,EAAnB,KAAA5K,OAA8B6K,EAA9B,4aE/EF,IAYMC,GAAalI,YAAQ,MAARA,CAAHmI,MAMVC,GAAcC,YAAHC,MAUFC,GA5BH,WAEV,OADkBC,KAAXC,QACa9H,EAAAjD,EAAAkD,cAAC8H,EAAD,MAElB/H,EAAAjD,EAAAkD,cAACsH,GAAD,KACEvH,EAAAjD,EAAAkD,cAAC+H,EAAD,MACAhI,EAAAjD,EAAAkD,cAACgI,GAAD,MACAjI,EAAAjD,EAAAkD,cAACwH,GAAD,QAuBAI,GAA0B,WAC9B,IAAMjF,EAAWC,cADmBqF,EAENC,oBAAU,GAFJC,EAAArM,OAAAsM,EAAA,EAAAtM,CAAAmM,EAAA,GAE7BJ,EAF6BM,EAAA,GAEpBE,EAFoBF,EAAA,GAWpC,OAJAvC,oBAAW,WAETlJ,EAAS,kBAAkB+B,KADL,SAAAyH,GAAI,OALXnD,EAKyBmD,EAAKlD,cAJ7CL,EH1CK,CACLe,KAAM,qBACNC,QAAS,CACPX,cGuC0BD,UAC5BsF,GAAY,GAFG,IAAAtF,MAQV,CAAC8E,6BChDJS,GAAe,CACnBtF,cAAe,KACfE,cAAe,GACfgB,UAAW,GACXqE,sBAAsB,GAqFTC,GAtEC,WAAkC,IAZ5BC,EAYL5F,EAAiChF,UAAAtB,OAAA,QAAAkJ,IAAA5H,UAAA,GAAAA,UAAA,GAAzByK,GAAcI,EAAW7K,UAAAtB,OAAA,EAAAsB,UAAA,QAAA4H,EAChD,OAAQiD,EAAOhF,MACb,IAAK,qBACH,IAAMV,GAfUyF,EAeqBC,EAAO/E,QAAQX,cAd5ClH,OAAOC,KAAM0M,GACdzM,IAAK,SAAAqJ,GACd,IAAMhC,EAAOoF,EAAYpD,GACzB,MAAO,CACLA,KACAhC,OACAD,KAAMC,EAAK,GAAGD,KAAO,IAAMC,EAAK,GAAGD,SASnC,OAAOtH,OAAAwH,EAAA,EAAAxH,CAAA,GACF+G,EADL,CAEEG,gBACAE,cAAgBL,EAAM0F,qBAIlB1F,EAAMK,cAHNF,EACGhH,IAAK,SAACmH,EAAGwF,GAAJ,OAAeA,EAAQpE,IAAepB,EAAI,OAC/CyF,OAAQ,SAAAzF,GAAC,QAAMA,IAEtBoF,sBAAsB,IAG1B,IAAK,uBAAwB,IACpB3E,EAAgB8E,EAAO/E,QAAvBC,aAEDV,EAAapH,OAAA8I,EAAA,EAAA9I,CAAO+G,EAAMK,eAC1B2F,EAAoB3F,EACvBlH,IAAK,SAAAmH,GAAC,OAAIA,EAAEC,OACZ0F,QAASlF,EAAaR,OACE,IAAvByF,EAA0B3F,EAAc6F,KAAMnF,GAC7CV,EAAcvB,OAAQkH,EAAmB,GAE9C,IAAM1E,EAAelD,KAAKC,SAI1B,OAAOpF,OAAAwH,EAAA,EAAAxH,CAAA,GACF+G,EADL,CAEEK,gBACAiB,iBAGJ,IAAK,iBACH,IAAM6E,GAAY,IAAIlC,MAAQmC,UAC1B/E,EAASpI,OAAAwH,EAAA,EAAAxH,CAAA,GACR+G,EAAMqB,UADEpI,OAAAoN,GAAA,EAAApN,CAAA,GAEVkN,EAFUlN,OAAAwH,EAAA,EAAAxH,CAAA,GAGN4M,EAAO/E,QAAQO,UAAUiF,SAI5B/E,EAAUtI,OAAOC,KAAMmI,GAG3B,GAFAE,EAAQC,OACRD,EAAQgF,UACJhF,EAAQ7H,OAASgI,IAAc,CACjCH,EAAUA,EAAQzC,OAChByC,EAAQ7H,QAAUgI,IAAe,GACjCA,KAEF,IAAM8E,EAAe,GACrBjF,EAAQkF,QAAS,SAAAnG,GACfkG,EAAalG,GAAKe,EAAUf,KAE9Be,EAAYmF,EAGd,OAAOvN,OAAAwH,EAAA,EAAAxH,CAAA,GACF+G,EADL,CAEEqB,cAGJ,QACE,OAAOrB,IC9EE0G,GAJUC,aAAiB,CACxCzG,qCCQI0G,GAAgB,CACpBvN,IAAK,WACLwN,mBAEIC,GAAmBC,aAAgBH,GAAeF,IAElDM,GAAQC,aAAaH,IAG3BE,GAAME,UAAW,kBACfC,QAAQC,IAAK,wBAAyBJ,GAAMK,cAG9CC,IAASC,OACPrK,EAAAjD,EAAAkD,cAACqK,EAAA,EAAD,CAAUR,MAAOA,IAEb9J,EAAAjD,EAAAkD,cAACsK,GAAD,OAGJC,SAASC,eAAgB","file":"static/js/main.0aa404ae.chunk.js","sourcesContent":["export default (query) => {\n  if (!query) return '';\n  const keys = Object.keys (query);\n\n  const parameters = keys.map (name => {\n    const key = encodeURIComponent (String(name).trim());\n    const value = encodeURIComponent (String(query[name]).trim());\n    const validated = key.length > 0 && value.length > 0;\n\n    if (!validated) return '';\n    \n    return `${key}=${value}`;\n  });\n\n  return parameters.join ('&');\n};\n","import {server as API_URL} from '../../src/config';\nimport {stringifyQuery} from '../utils';\n\nconst apiCall = async (...args) => {\n  const [route, query, params = {}] = args;\n\n  const {\n    retry = true, // by default any request will attempt to retry\n    timeout = 300, // time to wait until retrying fetch\n  } = params;\n\n  const url = getApiUrl (route, query);\n  return new Promise (function (res, rej) {\n    const convertToJSON = res => res.json ();\n    fetch (url).then (convertToJSON).then (res).catch (() => {\n      if (!retry) return rej (); // skipping retrying\n      const attempt = () => apiCall (...args).then (res).catch (rej);\n      setTimeout (attempt, timeout);\n      \n      if (process.env.NODE_ENV !== 'production') {\n        console.warn (`fetch failed, retry in ${timeout}ms, URL: ${url}`);\n      }\n    });\n  });\n};\n\nexport default apiCall;\n\nfunction getApiUrl (route, queryObject) {\n  let query = stringifyQuery (queryObject);\n  const endpoint = `${API_URL}${route}`;\n  const hasQuery = queryObject && query.trim ().length > 0;\n  if (hasQuery) query = '?' + query;\n  return `${endpoint}${query}`;\n}\n","import styled from 'styled-components';\n\nconst Button = styled ('button')`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\talign-items: center;\n\n\tmin-height: 40px;\n\tpadding: 0 18px 0 18px;\n\n\tborder-radius: 4px;\n\tborder: 1px solid black;\n\n\tbackground: ${p => (p.filled ? 'black' : 'white')};\n\tcolor: ${p => (p.filled ? 'white' : 'black')};\n\n\t&:not(:last-child) {\n\tmargin: 0 10px 10px 0;\n\t}\n\n\tcursor: pointer;\n\ttransition: all 0.4s ease-in-out;\n`;\n\nexport default Button;","import styled from 'styled-components';\n\nconst Title = styled ('h1')`\n\tmargin: 0 0 20px 0;\n`;\n\nexport default Title;","import React from 'react';\nimport styled from 'styled-components';\n\nconst Loader = () => (\n  <Container>\n    <Image />\n  </Container>\n);\n\nconst Container = styled ('div')`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\talign-items: center;\n\n\tposition: fixed;\n\ttop: 0;\n\tbottom: 0;\n\tright: 0;\n\tleft: 0;\n`;\n\nconst Image = styled ('div')`\n\twidth: 190px;\n\theight: 190px;\n\n\tfilter: grayscale(100%);\n\n\tbackground-size: cover;\n\tbackground-position: center;\n\tbackground-image: url(/loader.gif);\n`;\n\nexport default Loader;\n","import styled from 'styled-components';\n\nconst selector = (key, defaultValue) => {\n\treturn props => {\n\t\tconst has = props.hasOwnProperty(key);\n\t\tif (has) return props[key];\n\t\treturn defaultValue\n\t}\n} \n\nconst createLayout = direction => styled ('div')`\n\tdisplay: flex;\n\tflex-direction: ${direction};\n\talign-items: ${selector('align', 'flex-start')};\n\tjustify-content: ${selector('justify', 'flex-start')};\n`;\n\nconst Row = createLayout ('row');\nconst Column = createLayout ('column');\n\nexport {Row, Column};\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst TableRow = ({items, component: Component, wrapper: Wrapper}) => (\n  <Wrapper>\n    {items.map (item => (\n      <Component key={Math.random ()}>\n        {item}\n      </Component>\n    ))}\n  </Wrapper>\n);\n\nconst Table = ({rows}) => (\n  <TableWrapper>\n    <TableRow wrapper={RowHeader} component={HeaderCell} items={rows[0]} />\n    <Body>\n      {rows\n        .splice (1)\n        .map (row => (\n          <TableRow\n            wrapper={RowBody}\n            component={Cell}\n            items={row}\n            key={Math.random ()}\n          />\n        ))}\n    </Body>\n  </TableWrapper>\n);\n\nconst TableWrapper = styled ('div')`\n\twidth: 100%;\n\tborder: 1px solid #EEEEEE;\n\tborder-collapse: collapse;\n\tborder-radius: 5px;\n`;\n\nconst Content = styled ('div')`\n\tflex: 1 1 20%;\n\ttext-align: center;\n`;\n\nconst Cell = ({children, className}) => (\n  <Content className={className}>{children || '...'}</Content>\n);\n\nconst HeaderCell = styled (Cell)`\n\ttext-transform: uppercase;\n\tcolor: white;\n`;\n\nconst Row = styled ('div')`\n\tdisplay: flex;\n\twidth: 100%;\n\tpadding: 18px 0;\n`;\n\nconst RowHeader = styled (Row)`\n\tbackground: #000;\n`;\nconst RowBody = styled (Row)`\n\t&:nth-of-type(odd) {\n\t\tbackground: #EEEEEE;\n\t}\n`;\n\nconst Body = styled ('div')``;\n\nexport {Cell, Table};\n","import React from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {toggleSelectedPair} from '../actions/pairsActions';\nimport {Button, Row, Column, Title} from '../ui';\n\nconst PairSelector = () => (\n  <Column>\n    <Title>Currency pairs</Title>\n    <Row>\n      {useCurrencyPairs ().map (pair => (\n        <Button key={pair.code} onClick={pair.toggle} filled={pair.toggled}>\n          {pair.code}\n        </Button>\n      ))}\n    </Row>\n  </Column>\n);\n\nconst useCurrencyPairs = () => {\n  const dispatch = useDispatch ();\n  const state = useSelector (state => state.pairs);\n\n  const {currencyPairs: pairs, selectedPairs} = state;\n  const selectedCodes = selectedPairs.map (e => e.code);\n\n  return pairs.map (pair => ({\n    toggled: selectedCodes.includes (pair.code),\n    toggle: () => dispatch (toggleSelectedPair (pair)),\n    ...pair,\n  }));\n};\n\nexport default PairSelector;\n","const setCurrencyPairs = currencyPairs => {\n  return {\n    type: 'SET_CURRENCY_PAIRS',\n    payload: {\n      currencyPairs,\n    },\n  };\n};\n\nconst toggleSelectedPair = selectedPair => {\n  return {\n    type: 'TOGGLE_SELECTED_PAIR',\n    payload: {\n      selectedPair,\n    },\n  };\n};\n\nconst addTableData = tableData => {\n  return {\n    type: 'ADD_TABLE_DATA',\n    payload: {\n      tableData,\n    },\n  };\n};\n\nexport {setCurrencyPairs, toggleSelectedPair, addTableData};\n","import React, {useEffect, useRef} from 'react';\nimport {connect, useSelector, useDispatch} from 'react-redux';\nimport apiCall from '../api/apiCall';\nimport {addTableData} from '../actions/pairsActions';\nimport {interval, tableColumns} from '../../src/config';\nimport {Title, Table} from '../ui';\nimport {useInterval} from '../utils';\n\nconst RatesTable = () => {\n  const selectedPairs = useSelector (state => state.pairs.selectedPairs);\n  const tableData = useSelector (state => state.pairs.tableData);\n  const selectionKey = useSelector (state => state.pairs.selectionKey);\n  const dispatch = useDispatch ();\n\n  const columns = getTableColumns (tableData);\n  const rowHeader = [\n    'Currency pair / Time',\n    ...columns.map (t => t && <TimeStamp time={t} />),\n    'Tendency',\n  ];\n\n  const rowsBody = selectedPairs.map (pair => {\n    const values = columns.map (c => tableData[c] && tableData[c][pair.id]);\n    return [pair.code, ...values, <Tendency values={values} />];\n  });\n\n  useInterval (() => {\n    apiCall ('/rates', {\n      currencyPairIds: selectedPairs.map (e => e.id),\n    }).then (data => dispatch (addTableData (data)));\n  }, 1000);\n\n  const rows = [rowHeader, ...rowsBody];\n\n  return (\n    <React.Fragment>\n      <Title>Rates</Title>\n      <Table rows={rows} />\n    </React.Fragment>\n  );\n};\n\nexport default RatesTable;\n\nfunction getTableColumns (tableData) {\n  const columns = Object.keys (tableData).sort ();\n\n  const difference = tableColumns - columns.length;\n  const columnsToAdd = Math.max (difference, 0);\n  const missingColumns = new Array (columnsToAdd).fill ();\n\n  return [\n    ...missingColumns, // adding blank columns\n    ...columns,\n  ];\n}\nconst keys = {\n  UP: 'growing ↑',\n  DOWN: 'declining ↓',\n  SAME: 'stagnating →',\n};\n\nconst Tendency = ({values}) => {\n  const lastValue = values[values.length - 1];\n  const preLastValue = values[values.length - 2];\n\n  if (!lastValue || !preLastValue) return 'unknow';\n\n  const relation = lastValue / preLastValue;\n  const isGrowing = relation > 1;\n  const isSame = relation === 1;\n  const direction = isSame ? 'SAME' : isGrowing ? 'UP' : 'DOWN';\n  const tendency = keys[direction];\n\n  if (relation === 1) return tendency;\n\n  const change = Math.floor ((relation - 1) * 10000) / 100 + '%';\n  return tendency + change;\n};\n\nconst TimeStamp = ({time}) => {\n  const date = new Date (Number (time));\n  const format = method => ('0' + date[method] ()).substr (-2);\n\n  const hours = format ('getHours');\n  const minutes = format ('getMinutes');\n  const seconds = format ('getSeconds');\n\n  return `${hours}:${minutes}:${seconds} ⏱`;\n};\n","import {useRef, useEffect} from 'react';\n\nexport default (callback, delay = 1000) => {\n  const savedCallback = useRef ();\n  useEffect (\n    () => (savedCallback.current = callback)\n    [callback]\n  );\n  useEffect (\n    () => {\n      const tick = () => savedCallback.current ();\n      if (delay !== null) {\n        let id = setInterval (tick, delay);\n        return () => clearInterval (id);\n      }\n    },\n    [delay]\n  );\n};\n","import React, {useState, useEffect} from 'react';\nimport {useDispatch} from 'react-redux';\nimport apiCall from './api/apiCall';\nimport PairSelector from './components/PairSelector';\nimport RatesTable from './components/RatesTable';\nimport {setCurrencyPairs} from './actions/pairsActions';\nimport styled, {createGlobalStyle} from 'styled-components';\nimport {Loader} from './ui';\n\nconst App = () => {\n  const {loading} = useConfigurationFetcher ();\n  if (loading) return <Loader />;\n  return (\n    <AppWrapper>\n      <PairSelector />\n      <RatesTable />\n      <GlobalStyle />\n    </AppWrapper>\n  );\n};\n\nconst AppWrapper = styled ('div')`\n  margin: 0 auto;\n  max-width: 90%;\n  margin-bottom: 100px;\n`;\n\nconst GlobalStyle = createGlobalStyle`\n  @import url(\"https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700\");\n  body {\n    padding: 24px;\n    font-family: \"Source Sans Pro\", sans-serif;\n    margin: 0;\n    background: white;\n  }\n`;\n\nexport default App;\n\nconst useConfigurationFetcher = () => {\n  const dispatch = useDispatch ();\n  const [loading, setLoading] = useState (true);\n  const setPairs = pairs => {\n    dispatch (setCurrencyPairs (pairs));\n    setLoading (false);\n  };\n  useEffect (() => {\n    const processConfig = data => setPairs (data.currencyPairs);\n    apiCall ('/configuration').then (processConfig);\n  });\n  return {loading};\n};\n","import {tableColumns} from '../config';\n\nconst initialState = {\n  currencyPairs: null,\n  selectedPairs: [],\n  tableData: {},\n  hasEverFetchedConfig: false,\n};\n\nconst refactorPairs = pairsObject => {\n  const ids = Object.keys (pairsObject);\n  return ids.map (id => {\n    const pair = pairsObject[id];\n    return {\n      id,\n      pair,\n      code: pair[0].code + '/' + pair[1].code,\n    };\n  });\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'SET_CURRENCY_PAIRS': {\n      const currencyPairs = refactorPairs (action.payload.currencyPairs);\n      return {\n        ...state,\n        currencyPairs,\n        selectedPairs: !state.hasEverFetchedConfig\n          ? currencyPairs\n              .map ((e, index) => (index < tableColumns ? e : null))\n              .filter (e => !!e)\n          : state.selectedPairs, // selecting first tableColumns\n        hasEverFetchedConfig: true,\n      };\n    }\n    case 'TOGGLE_SELECTED_PAIR': {\n      const {selectedPair} = action.payload;\n\n      const selectedPairs = [...state.selectedPairs];\n      const selectedPairIndex = selectedPairs\n        .map (e => e.code)\n        .indexOf (selectedPair.code);\n      if (selectedPairIndex === -1) selectedPairs.push (selectedPair);\n      else selectedPairs.splice (selectedPairIndex, 1);\n\n      const selectionKey = Math.random ();\n      // we will fetch data immediately as soon as we discover that\n      // selectionKey has changed\n\n      return {\n        ...state,\n        selectedPairs,\n        selectionKey,\n      };\n    }\n    case 'ADD_TABLE_DATA': {\n      const timestamp = new Date ().getTime ();\n      let tableData = {\n        ...state.tableData,\n        [timestamp]: {\n          ...action.payload.tableData.rates,\n        },\n      };\n\n      let columns = Object.keys (tableData);\n      columns.sort ();\n      columns.reverse ();\n      if (columns.length > tableColumns) {\n        columns = columns.splice (\n          columns.length - (tableColumns + 1),\n          tableColumns\n        );\n        const newTableData = {};\n        columns.forEach (e => {\n          newTableData[e] = tableData[e];\n        });\n        tableData = newTableData;\n      }\n\n      return {\n        ...state,\n        tableData,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default reducer;\n","import {combineReducers} from 'redux';\r\n\r\nimport pairs from './pairs';\r\n\r\nconst combinedReducers = combineReducers ({\r\n  pairs,\r\n});\r\n\r\nexport default combinedReducers;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport {createStore} from 'redux';\nimport {Provider} from 'react-redux';\nimport combinedReducers from './reducers/combinedReducers';\n\nimport {persistStore, persistReducer} from 'redux-persist';\nimport {PersistGate} from 'redux-persist/integration/react';\nimport storage from 'redux-persist/lib/storage';\nimport {Loader} from './ui';\n\nconst persistConfig = {\n  key: 'asdfasdf',\n  storage,\n};\nconst persistedReducer = persistReducer (persistConfig, combinedReducers);\n\nconst store = createStore (persistedReducer);\n// const persistor = persistStore (store);\n\nstore.subscribe (() =>\n  console.log ('Redux store changed: ', store.getState ())\n);\n\nReactDOM.render (\n  <Provider store={store}>\n    {/* <PersistGate loading={<Loader />} persistor={persistor}> */}\n      <App />\n    {/* </PersistGate> */}\n  </Provider>,\n  document.getElementById ('root')\n);\n"],"sourceRoot":""}