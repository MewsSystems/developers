{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning"
    }
  },
  "AllowedHosts": "*",

  "Database": {
    "UseInMemoryDatabase": false
  },

  "ConnectionStrings": {
    "DefaultConnection": "Server=(localdb)\\MSSQLLocalDB;Database=ExchangeRateUpdaterTestREST;Integrated Security=true;Connection Timeout=30;MultipleActiveResultSets=true;",
    "HangfireConnection": "Server=(localdb)\\MSSQLLocalDB;Database=ExchangeRateUpdaterTestREST;Integrated Security=true;Connection Timeout=30;"
  },

  "SystemConfiguration": {
    "ProviderHealth": {
      "AutoDisableAfterFailures": 10,
      "HealthCheckIntervalMinutes": 15,
      "StaleDataThresholdHours": 48
    },
    "DataRetention": {
      "RetainExchangeRatesDays": 730,
      "RetainFetchLogsDays": 90,
      "RetainErrorLogsDays": 30,
      "EnableAutoCleanup": true
    },
    "Logging": {
      "LogLevel": "Information",
      "EnableDetailedLogging": false,
      "LogSuccessfulFetches": true
    },
    "Api": {
      "RateLimitPerMinute": 60,
      "EnableApiKeyAuthentication": false,
      "MaxResultsPerPage": 100
    },
    "System": {
      "Version": "1.0.0",
      "MaintenanceMode": false,
      "MaintenanceMessage": "System is under maintenance. Please try again later."
    },
    "BackgroundJobs": {
      "FetchHistoricalOnStartup": true,
      "HistoricalDataDays": 90,
      "DefaultRetryDelayMinutes": 30,
      "MaxRetries": 3,
      "HealthCheckIntervalMinutes": 5,
      "RecentDataThresholdHours": 2,
      "HangfireWorkerCount": 5,
      "DefaultCronExpression": "0 16 * * *",
      "DefaultTimezone": "UTC"
    }
  },

  "ExchangeRateProviders": {
    "CNB": {
      "Name": "Czech National Bank",
      "Code": "CNB",
      "Url": "https://www.cnb.cz/cs/financni_trhy/devizovy_trh/kurzy_devizoveho_trhu/denni_kurz.xml",
      "BaseCurrency": "CZK",
      "IsActive": true,
      "RequiresAuthentication": false,
      "Configuration": {
        "Format": "XML",
        "DecimalSeparator": "Comma",
        "UpdateTime": "14:30",
        "TimeZone": "CET",
        "Encoding": "UTF-8",
        "XmlNamespace": "http://www.cnb.cz/xsd/Filharmonie/modely/Denni_kurz/1.1",
        "HasVariableAmounts": true,
        "XmlStructure": "kurzy/tabulka/radek",
        "RootElement": "kurzy",
        "HasDateAttribute": true,
        "HasSequenceNumber": true,
        "HistoricalUrl": "https://www.cnb.cz/cs/financni_trhy/devizovy_trh/kurzy_devizoveho_trhu/denni_kurz.xml?date={date}"
      }
    },
    "ECB": {
      "Name": "European Central Bank",
      "Code": "ECB",
      "Url": "https://www.ecb.europa.eu/stats/eurofxref/eurofxref-daily.xml",
      "BaseCurrency": "EUR",
      "IsActive": true,
      "RequiresAuthentication": false,
      "Configuration": {
        "Format": "XML",
        "DecimalSeparator": "Dot",
        "UpdateTime": "16:00",
        "TimeZone": "CET",
        "XmlNamespace": "http://www.gesmes.org/xml/2002-08-01",
        "HasVariableAmounts": false,
        "XmlStructure": "TripleNestedCube",
        "Historical90DaysUrl": "https://www.ecb.europa.eu/stats/eurofxref/eurofxref-hist-90d.xml",
        "HistoricalAllUrl": "https://www.ecb.europa.eu/stats/eurofxref/eurofxref-hist.xml"
      }
    },
    "BNR": {
      "Name": "Banca Națională a României",
      "Code": "BNR",
      "Url": "https://www.bnr.ro/nbrfxrates.xml",
      "BaseCurrency": "RON",
      "IsActive": true,
      "RequiresAuthentication": false,
      "Configuration": {
        "Format": "XML",
        "DecimalSeparator": "Dot",
        "UpdateTime": "13:00",
        "TimeZone": "EET",
        "XmlNamespace": "http://www.bnr.ro/xsd",
        "HasVariableAmounts": true,
        "XmlStructure": "DataSet/Body/Cube/Rate",
        "HasHeader": true,
        "HistoricalUrl": "https://www.bnr.ro/files/xml/years/nbrfxrates{year}.xml"
      }
    }
  },

  "Authentication": {
    "Jwt": {
      "SecretKey": "SuperSecretKeyMustBeAtLeast32CharactersLong!",
      "Issuer": "ExchangeRateApi",
      "Audience": "ExchangeRateApiClients",
      "ExpirationMinutes": 60,
      "RefreshTokenExpirationDays": 7
    },
    "PasswordPolicy": {
      "RequireDigit": true,
      "RequireLowercase": true,
      "RequireUppercase": true,
      "RequireNonAlphanumeric": true,
      "MinimumLength": 8,
      "MaxFailedAccessAttempts": 5,
      "LockoutDurationMinutes": 15
    }
  },

  "RateLimiting": {
    "EnableRateLimiting": true,
    "PermitLimit": 60,
    "Window": "00:01:00",
    "QueueLimit": 0
  },

  "HealthChecks": {
    "Enabled": true,
    "Endpoints": {
      "Health": "/health",
      "Ready": "/health/ready",
      "Live": "/health/live"
    }
  }
}