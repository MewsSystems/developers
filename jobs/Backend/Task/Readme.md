# Hello reviewers

### Solution introduction
In the solution there are folders [host](host), [service](service) and [test](test).
In [host](host) folder you can find [ExchangeRateUpdater](host/ExchangeRateUpdater.csproj) project which contains [Program.cs](host/Program.cs) whose functionality is part of the [task](../DotNet.md).
In [service](service) folder, there are folders containing two projects. Project [ExchangeRateProviderCzechNationalBank](service/ExchangeRateProvider/ExchangeRateProviderCzechNationalBank.csproj) is responsible for obtaining, storing and returning exchange rates which Czech National Bank provides. Project [ExchangeRateProvider.Contracts](service/ExchangeRateProvider.Contracts/ExchangeRateProvider.Constracts.csproj) holds input and output classes so they can be easily referenced.
In [test](test) folder, you can find project [ExchangeRateProviderCzechNationalBank.Tests](test/ExchangeRateProviderCzechNationalBank.Tests/ExchangeRateProviderCzechNationalBank.Tests.csproj). This project contains unit tests of services in [ExchangeRateProviderCzechNationalBank](service/ExchangeRateProvider/ExchangeRateProviderCzechNationalBank.csproj)

### Main functionality
The [task](../DotNet.md) was to create an exchange rate provider for Czech National Bank. This functionality is handled by [ExchangeRateProviderCzechNationalBank](service/ExchangeRateProvider/ExchangeRateProviderCzechNationalBank.csproj) project. To successfully use it as a reference you need to call prepared extension [RegisterServicesExtension](service/ExchangeRateProvider/RegisterServicesExtension.cs) on your IServiceCollectoin. To provide exchange rates from Czech National Bank the main service [ExchangeRateProvider](service/ExchangeRateProvider/ExchangeRateProvider.cs) once a day retrieves data from [CNBData](https://www.cnb.cz/cs/financni_trhy/devizovy_trh/kurzy_devizoveho_trhu/denni_kurz.xml) and stores them in [StoreExchangeRates](service/ExchangeRateProvider/StoreExchangeRates.cs), from where they are provided.

### Decisions and Reasons
- Czech National Bank provides data in two forms, txt and xml. Even though I haven't find any information about support of xml source I decided to use it for its no needs for a custom parser. I definitely see arguments for using txt source which is [supported](https://www.cnb.cz/cs/casto-kladene-dotazy/Kurzy-devizoveho-trhu-na-www-strankach-CNB/) and would prefer to discuss this with colleagues before starting with implementation.
- Memory cache vs. storing retrieved data in a singleton class. Unluckily I was late to realize that memory cache could save me a lot of implementation time. I am not sure which approach is harder on resources. On singleton solution I like the fact that serialization of response is just once a day instead of on every rate request. What I don't like on singleton solution is the unnecessary amount of code.
- Source and Target Currency in [ExchangeRate](service/ExchangeRateProvider.Contracts/ExchangeRate.cs) class. I think that this Contract class should use some explanatory comments or different naming. Its properties Source and Target are so easily interchangeable that it will probably come with unwanted issues in time. First I thought that in case of exchange rate provider for Czech National Bank the property Source should contain Currency with CZK code. However in this case ToString method doesn't made sense. After a long period of time I realized that [ExchangeRate](service/ExchangeRateProvider.Contracts/ExchangeRate.cs) is probably implemented on multiple places and the ToString method gives me a hint which Currency is which, but this is pretty weak to rely on.

Even if I would fail on this job opportunity, I would appriciate some feedback from code review. I've learned a lot while coding this challenge and I am really happy for that. So please, **enjoy your time reviewing this too!**